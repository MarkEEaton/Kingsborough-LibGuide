<style>

body {
        color: #111;
}

/* style navbar */

.navbar-default {
        background-color: #ccc;
        border: none;
        font-size: 1.4em;
        color: #111;
        margin-top: -15px;
        margin-bottom: 28px;
        border-radius: 0px;
}


.navbar-default .navbar-nav>li>a {
        color: #111;
}

.faux-card {
        margin-left: 16px;
}

/* style dismissible alert */

#covid-alert {
        text-align: center;
        margin-bottom: 25px !important;
        font-size: 1.5em;
}

#covid-alert a {
        color: #6c4a00;
        text-decoration: underline;
}

#x {
        margin-top: 7px;
}

/* style jumbotron */

.onesearch-jumbotron {
        text-align: center;
        margin-top: 25px;
}

#onesearch-header {
        color: #003466;
        font-size: 6em;
}

.zero-margin {
        margin-left: -2px;
        margin-right: -2px;
}

#dropdownMenu1 {
        border-radius: 0px;
}

a.searchmenu {
        color: #111;
}

.highlight-menu-item:hover {
        background-color: #eee;
        cursor: pointer;
}

/* style link list */
.link-list {
        font-size: 2em;
}

/* style for nav by the jumbotron */
.nav-by-jumbotron {
        margin-top: -6px;
        margin-bottom: 40px;
}

.nav-divs-by-jumbotron {
        text-align: center;
        padding: 6px;
        margin: 6px 0px;
        color: #111;
        background-color: #ccc;
}

.nav-divs-by-jumbotron>h2 {
        font-size: 1.5em;
        margin-bottom: 4px;
        margin-top: 4px;
}

.nav-divs-by-jumbotron:hover {
       background-color: #ddd;
}

/* style the panels with the text content */
.panel>.show-panel {
        background-color: #003466;
        text-align: center;
}

.hide-body-border {
       border: none;
       box-shadow: none;
}

.glyphicon-panel-title {
        font-size: 2em;
}

.content-panel-title {
        color: white;
        font-size: 2em;
}

.content-panel-title>h2 {
        margin: 7px 0px;
        font-size: 1em;
}

.panel-heading {
       padding: 2px;
}

.slick-slide img {
        padding: 2px;
}

/* style the gallery */
img {
        max-height: 350px !important;
        object-fit: contain;
        margin: 0px;
}

.s-lib-public-side-header {
        display: none;
}

.slick-active {
        outline: 0;
}

/* style the hours */
.hours {
        text-align:center;
}

.hours-panel-body {
        padding: 10px 5px 10px 5px;
}

.padding-0 {
        padding-left: 4px;
        padding-right: 4px;
        flex:1 1 auto;
        display: flex;
}

.equal {
        display: -webkit-box;
        display: -moz-box;
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
}

.panel {
        flex:1 0 100%;
}

.panel-outline-color {
        border: solid #555 1px;
}

.vertical-align {
        display: flex;
        align-items: center;
        height: 100%;
}

.more-link {
        text-align: center;
        width: 100%;
}

/* style the yamm menu */
.dropdown-margin {
        margin-right: 50px;
}

.yamm1 {
        max-width: 900px;
}

.yamm2 {
        max-width: 675px;
}

.yamm3 {
        max-width: 300px;
}

.yamm4 {
        max-width: 460px;
}

/* media queries */
@media only screen and (min-width: 992px) {
        .form-width {
                width: 350px;
        }
}

@media only screen and (min-width: 768px) and (max-width: 991px) {
        .form-width {
                width: 220px;
        }
}

@media only screen and (max-width: 767px)  {
        .form-width {
                width: 300px;
        }
        .zero-margin {
                margin: 7px auto;
        }
        .nav-by-jumbotron {
                margin-top: 40px !important;
        }
        #onesearch-header {
                font-size: 5em;
        }
}

/*!
 * Yamm!3 - Yet another megamenu for Bootstrap 3
 * http://geedmo.github.com/yamm3
 *
 * @geedmo - Licensed under the MIT license
 */
.yamm .nav,
.yamm .collapse,
.yamm .dropup,
.yamm .dropdown {
  position: static;
}
.yamm .container {
  position: relative;
}
.yamm .dropdown-menu {
  left: auto;
}
.yamm .yamm-content {
  padding: 20px 30px;
}
.yamm .dropdown.yamm-fw .dropdown-menu {
  left: 0;
  right: 0;
}
/* End of Yamm */
</style>

<!-- the configuration file for the hours widget -->
<script type="text/javascript" src="//libapps.s3.amazonaws.com/sites/2365/include/hours.js"></script>

<!-- the code for the hours widget -->
<script type="text/javascript">
window.onload = function () {
        const h = JSON.parse(hours);
        const options_weekday = { weekday: 'long' };
        const options_date = { month: 'short', day: 'numeric' };
        for (var i = 0; i < h.length; i++) {
                let targetDate = new Date(h[i].Date + "T00:00:00.000-05:00");
                let today = new Date();
                if (targetDate.getFullYear() === today.getFullYear() &&
                    targetDate.getMonth() === today.getMonth() &&
                    targetDate.getDate() === today.getDate()) {
                           document.getElementById('hours0').innerHTML = "<p><strong>Today</strong><br />" + targetDate.toLocaleDateString("en-US", options_date) + "</p><p>" + h[i].Hours + "</p>";
                           var start = true;
                           var count = 1;
                } else if (start === true && count < 5 && h[i].Hours === "Closed" ) {
                        document.getElementById('hours' + count).innerHTML = "<span style='color:#666;'><p>" + targetDate.toLocaleDateString("en-US", options_weekday) + "<br />" + targetDate.toLocaleDateString("en-US", options_date) + "</p><p>" + h[i].Hours + "</p></span>";
                        count++;
               } else if (start === true && count < 5 && h[i].Hours != "Closed") {
                        document.getElementById('hours' + count).innerHTML = "<p>" + targetDate.toLocaleDateString("en-US", options_weekday) + "<br />" + targetDate.toLocaleDateString("en-US", options_date) + "</p><p>" + h[i].Hours + "</p>";
                        count++;
               }
        }
};
</script>

<!-- script to make OneSearch dropdown work -->
<script type="text/javascript">
function customizeSearch(facet) {
        // re-render the dropdown menu with the current pick
        document.getElementById('dropdownMenu1').innerHTML = facet + ' <span class="caret"></span>';
        document.getElementById("primoQueryTemp").setAttribute("placeholder", "Enter search term here");      
        
        // reset any previously selected facets
        document.querySelectorAll('.deleteWithDropdownChange').forEach(e => e.remove());
        document.getElementById("formToAppendInputsTo").setAttribute("action", "https://cuny-kb.primo.exlibrisgroup.com/discovery/search");
        document.getElementById("tabSetting").setAttribute("value", "Everything");

        // add the facet that matches the user's dropdown selection
        if (facet === "Books") {
                document.getElementById("formToAppendInputsTo").insertAdjacentHTML('afterbegin', '<input name="facet" value="rtype,include,books" type="hidden" class="deleteWithDropdownChange" />');
        } else if (facet === "Articles") {
                document.getElementById("formToAppendInputsTo").insertAdjacentHTML('afterbegin', '<input name="mfacet" value="rtype,include,articles,1" type="hidden" class="deleteWithDropdownChange"/><input name="mfacet" value="rtype,include,newspaper_articles,1" type="hidden" class="deleteWithDropdownChange" />');
        } else if (facet === "Videos") {
                document.getElementById("formToAppendInputsTo").insertAdjacentHTML('afterbegin', '<input name="facet" value="rtype,include,videos" type="hidden" class="deleteWithDropdownChange" />');
        } else if (facet === "Journals") {
                document.getElementById("formToAppendInputsTo").setAttribute('action', 'https://onesearch.cuny.edu/discovery/jsearch');
                document.getElementById("tabSetting").setAttribute("value", "jsearch_slot");
        } else if (facet === "Newspapers") {
                document.getElementById("formToAppendInputsTo").setAttribute('action', 'https://onesearch.cuny.edu/discovery/npsearch');
        } else {
                console.log("no match");
        }
}
</script>

<!-- OneSearch widget script from OLS, modified -->
<script type="text/javascript">
function addPrimoQuery(e) {
        // prevent the user from submitting the form if no dropdown item has been selected. Added by ME.
        e.preventDefault();
        e.stopPropagation();
        if (document.getElementById("dropdownMenu1").innerHTML.includes('Define') === true) {
                $("#dropdownMenu1").trigger('click.bs.dropdown.data-api');
                document.getElementById("primoQueryTemp").value = "";
                document.getElementById("primoQueryTemp").setAttribute("placeholder", "Please make a selection");
                return true;
        };

       // original OLS widget
       document.getElementById("primoQuery").value = "any,contains," + document.getElementById("primoQueryTemp").value.replace(/[,]/g, " ");
       /* If you changed the form name at the top, change it below to match */
       document.forms.searchPrimoForm1.submit();
}
</script>

<!-- Load bootstrap accessibility libraries (https://github.com/paypal/bootstrap-accessibility-plugin) -->
<link rel="stylesheet" type="text/css" href="//libapps.s3.amazonaws.com/sites/2365/include/bootstrap-accessibility.min.css">	
<script type="text/javascript" src="//libapps.s3.amazonaws.com/sites/2365/include/bootstrap-accessibility.min.js"></script>
